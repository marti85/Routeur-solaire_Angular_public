<div class="account-settings-container">
  <h2>Mon compte</h2>
  
  <div class="card">
    <h3>Changer mon mot de passe</h3>
    <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">

      <div *ngIf="message" [class.success]="isSuccess" [class.error]="!isSuccess" class="message">{{ message }}</div>

      <div class="form-group">
        <label for="current_password">Mot de passe actuel</label>
        <input type="password" id="current_password" formControlName="current_password" class="form-control">
        <div *ngIf="passwordForm.get('current_password')?.invalid && passwordForm.get('current_password')?.touched" class="alert alert-danger">
          Le mot de passe actuel est requis.
        </div>
      </div>

      <div class="form-group">
        <label for="new_password">Nouveau mot de passe</label>
        <input type="password" id="new_password" formControlName="new_password" class="form-control">
        <div *ngIf="passwordForm.get('new_password')?.invalid && passwordForm.get('new_password')?.touched" class="alert alert-danger">
          Le nouveau mot de passe doit contenir au moins 8 caract√®res.
        </div>
      </div>

      <div class="form-group">
        <label for="new_password_confirm">Confirmer le nouveau mot de passe</label>
        <input type="password" id="new_password_confirm" formControlName="new_password_confirm" class="form-control">
        <div *ngIf="passwordForm.get('new_password_confirm')?.invalid && passwordForm.get('new_password_confirm')?.touched" class="alert alert-danger">
          La confirmation est requise.
        </div>
      </div>

      <button type="submit" [disabled]="passwordForm.invalid" class="btn btn-primary">Modifier le mot de passe</button>
    </form>
  </div>
</div>